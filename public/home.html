<div class="page-header">
    <img src="images/zeddit_logo.png" height="80">
</div>

<div class="list-group">
    <div class="list-group-item post" ng-repeat="post in posts | orderBy: '-upvotes'">
        <div class="voting">
            <span class="glyphicon glyphicon-chevron-up upvote" ng-click="upvote(post)"></span>
            <br>
            <span class="voteCount">{{post.upvotes}}</span>
            <br>
            <span class="glyphicon glyphicon-chevron-down downvote" ng-click="downvote(post)"></span>
        </div>
        <div class="post-text">
            <h4 ng-show="post.link"><a href="{{post.link}}" target="_blank">{{post.title}}</a></h4>
            <h4 ng-hide="post.link"><span>{{post.title}}</span></h4>
            <p>
                <span ng-show="post.author"> posted by <strong>{{post.author}}</strong></span> &nbsp;
                <a href="#/posts/{{post._id}}">Comments&nbsp;
                    <span class="glyphicon glyphicon-comment"></span>&nbsp;{{post.comments.length}} </a>
            </p>

        </div>
    </div>
</div>
<form ng-submit="addPost()" ng-show="isLoggedIn()">
    <h3>Add a new post</h3>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="Title" ng-model="title">
    </div>
    <div class="form-group">
        <input type="text" class="form-control" placeholder="Link" ng-model="link">
    </div>
    <button type="submit" class="btn btn-primary">Post</button>
</form>

<div ng-hide="isLoggedIn()">
    <h3> You need to <a href="/#/login">Login</a> or <a href="/#/register">Register</a> before you can
            add a post.</h3>
</div>
